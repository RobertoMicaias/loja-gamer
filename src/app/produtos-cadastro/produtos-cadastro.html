<main class="cadastro-container">
  <h2>Cadastrar Novo Produto</h2>

  <div class="cadastro-box" *ngIf="!sucesso; else sucessoBox">
    <form (ngSubmit)="cadastrarProduto()" #formProduto="ngForm">
      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Nome</mat-label>
        <input matInput type="text" name="nome" [(ngModel)]="produto.nome" required />
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Descrição</mat-label>
        <textarea matInput name="descricao" [(ngModel)]="produto.descricao" rows="3" required></textarea>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field">
        <mat-label>Preço</mat-label>
        <input matInput type="number" name="preco" [(ngModel)]="produto.preco" required />
      </mat-form-field>

      <button mat-raised-button color="primary" type="submit" [disabled]="!formProduto.form.valid">
        Salvar Produto
      </button>
    </form>
  </div>

  <ng-template #sucessoBox>
    <div class="mensagem-sucesso">
      <mat-icon>check_circle</mat-icon>
      <h3>Produto cadastrado com sucesso!</h3>
      <button mat-button color="accent" (click)="novoCadastro()">Cadastrar outro</button>
    </div>
  </ng-template>
</main>